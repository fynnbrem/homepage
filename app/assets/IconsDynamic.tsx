import React, { useEffect, useState } from "react"
import { Icon, IconProps } from "@/app/assets/Icons"

const GithubStages: [string, number][] = [
    ["base", 100],
    ["u1", 100],
    ["u2", 100],
    ["u3", 150],
    ["u4", 200],
    ["u3", 150],
    ["u2", 100],
    ["u1", 100],
    ["base", 100],
    ["d1", 100],
    ["d2", 150],
    ["d1", 100],
]

/**The GitHub icon with an optional animation for the octopus tentacle.*/
export function Github(props: IconProps & { animate: boolean }) {
    const [progress, setProgress] = useState(0)
    const stage = GithubStages[progress][0]
    useEffect(() => {
        if (props.animate) {
            const nextProgress = (progress + 1) % GithubStages.length

            const interval = setTimeout(
                () => setProgress(nextProgress),
                GithubStages[progress][1],
            )
            return () => clearTimeout(interval)
        } else {
            setProgress(0)
        }
    }, [progress, props.animate])

    return (
        <Icon {...props}>
            <path
                d="M 12,1.27 A 11,11 0 0 0 8.52,22.73 c 0.55,0.09 0.73,-0.28 0.73,-0.55 V 20.34 C 6.22,20.98 5.58,18.88 5.58,18.88 5.03,17.59 4.3,17.23 4.3,17.23 3.38,16.58 4.4,16.58 4.4,16.58 c 1.1,0 1.73,1.1 1.73,1.1 0.92,1.65 2.57,1.2 3.21,0.92 a 2,2 0 0 1 0.64,-1.47 c -2.47,-0.27 -5.04,-1.19 -5.04,-5.5 0,-1.1 0.46,-2.1 1.2,-2.84 a 3.76,3.76 0 0 1 0,-2.93 c 0,0 0.91,-0.28 3.11,1.1 1.8,-0.49 3.7,-0.49 5.5,0 2.1,-1.38 3.02,-1.1 3.02,-1.1 a 3.76,3.76 0 0 1 0,2.93 c 0.83,0.74 1.2,1.74 1.2,2.94 0,4.21 -2.57,5.13 -5.04,5.4 0.45,0.37 0.82,0.92 0.82,2.02 v 3.03 c 0,0.27 0.1,0.64 0.73,0.55 A 11,11 0 0 0 12,1.27"
                id="base"
                style={{
                    fill: "currentcolor",
                    display: stage === "base" ? undefined : "none",
                }}
            />
            <path
                d="M 12,1.27 C 6.5756237,1.2322027 1.9335015,5.1543899 1.0651944,10.50895 0.1968873,15.863511 3.3616543,21.05168 8.52,22.73 9.07,22.82 9.25,22.45 9.25,22.18 v -1.84 c -3.03,0.64 -3.6359788,-1.800212 -3.6359788,-1.800212 -0.55,-1.29 -1.28,-1.65 -1.28,-1.65 -0.92,-0.65 0.1,-0.65 0.1,-0.65 1.1,0 1.73,1.1 1.73,1.1 C 7.0840212,18.989788 8.7,18.88 9.34,18.6 9.3390035,18.042191 9.571006,17.50931 9.98,17.13 7.51,16.86 4.94,15.94 4.94,11.63 c 0,-1.1 0.46,-2.1 1.2,-2.84 -0.3961914,-0.9364872 -0.3961914,-1.9935128 0,-2.93 0,0 0.91,-0.28 3.11,1.1 1.8,-0.49 3.7,-0.49 5.5,0 2.1,-1.38 3.02,-1.1 3.02,-1.1 0.396191,0.9364872 0.396191,1.9935128 0,2.93 0.83,0.74 1.2,1.74 1.2,2.94 0,4.21 -2.57,5.13 -5.04,5.4 0.45,0.37 0.82,0.92 0.82,2.02 v 3.03 c 0,0.27 0.1,0.64 0.73,0.55 5.158346,-1.67832 8.323113,-6.866489 7.454806,-12.22105 C 22.066498,5.1543899 17.424376,1.2322027 12,1.27"
                id="stage-u1"
                style={{
                    fill: "currentcolor",
                    display: stage === "u1" ? undefined : "none",
                }}
            />
            <path
                d="M 12,1.27 C 6.5756237,1.2322027 1.9335015,5.1543899 1.0651944,10.50895 0.1968873,15.863511 3.3616543,21.05168 8.52,22.73 9.07,22.82 9.25,22.45 9.25,22.18 V 20.34 C 6.22,20.98 5.7448502,18.2 5.7448502,18.2 c -0.55,-1.29 -1.28,-1.65 -1.28,-1.65 -0.92,-0.65 0.1,-0.65 0.1,-0.65 1.1,0 1.73,1.1 1.73,1.1 C 7.2148502,18.65 8.7,18.88 9.34,18.6 9.3390035,18.042191 9.571006,17.50931 9.98,17.13 7.51,16.86 4.94,15.94 4.94,11.63 c 0,-1.1 0.46,-2.1 1.2,-2.84 -0.3961914,-0.9364872 -0.3961914,-1.9935128 0,-2.93 0,0 0.91,-0.28 3.11,1.1 1.8,-0.49 3.7,-0.49 5.5,0 2.1,-1.38 3.02,-1.1 3.02,-1.1 0.396191,0.9364872 0.396191,1.9935128 0,2.93 0.83,0.74 1.2,1.74 1.2,2.94 0,4.21 -2.57,5.13 -5.04,5.4 0.45,0.37 0.82,0.92 0.82,2.02 v 3.03 c 0,0.27 0.1,0.64 0.73,0.55 5.158346,-1.67832 8.323113,-6.866489 7.454806,-12.22105 C 22.066498,5.1543899 17.424376,1.2322027 12,1.27"
                id="stage-u2"
                style={{
                    fill: "currentcolor",
                    display: stage === "u2" ? undefined : "none",
                }}
            />
            <path
                d="M 12,1.27 C 6.5756237,1.2322027 1.9335015,5.1543899 1.0651944,10.50895 0.1968873,15.863511 3.3616543,21.05168 8.52,22.73 9.07,22.82 9.25,22.45 9.25,22.18 v -1.84 c -3.03,0.64 -3.5505114,-2.843105 -3.5505114,-2.843105 -0.55,-1.29 -1.28,-1.65 -1.28,-1.65 -0.92,-0.65 0.1,-0.65 0.1,-0.65 1.1,0 1.73,1.1 1.73,1.1 C 7.1694886,17.946895 8.7,18.88 9.34,18.6 9.3390035,18.042191 9.571006,17.50931 9.98,17.13 7.51,16.86 4.94,15.94 4.94,11.63 c 0,-1.1 0.46,-2.1 1.2,-2.84 -0.3961914,-0.9364872 -0.3961914,-1.9935128 0,-2.93 0,0 0.91,-0.28 3.11,1.1 1.8,-0.49 3.7,-0.49 5.5,0 2.1,-1.38 3.02,-1.1 3.02,-1.1 0.396191,0.9364872 0.396191,1.9935128 0,2.93 0.83,0.74 1.2,1.74 1.2,2.94 0,4.21 -2.57,5.13 -5.04,5.4 0.45,0.37 0.82,0.92 0.82,2.02 v 3.03 c 0,0.27 0.1,0.64 0.73,0.55 5.158346,-1.67832 8.323113,-6.866489 7.454806,-12.22105 C 22.066498,5.1543899 17.424376,1.2322027 12,1.27"
                id="stage-u3"
                style={{
                    fill: "currentcolor",
                    display: stage === "u3" ? undefined : "none",
                }}
            />
            <path
                d="M 12,1.27 C 6.5756237,1.2322027 1.9335015,5.1543899 1.0651944,10.50895 0.1968873,15.863511 3.3616543,21.05168 8.52,22.73 9.07,22.82 9.25,22.45 9.25,22.18 v -1.84 c -3.03,0.64 -3.5505114,-2.843105 -3.5505114,-2.843105 -0.55,-1.29 -1.28,-1.65 -1.28,-1.65 -0.92,-0.65 0.1,-0.65 0.1,-0.65 1.1,0 1.73,1.1 1.73,1.1 C 7.1694886,17.946895 8.7,18.88 9.34,18.6 9.3390035,18.042191 9.571006,17.50931 9.98,17.13 7.51,16.86 4.94,15.94 4.94,11.63 c 0,-1.1 0.46,-2.1 1.2,-2.84 -0.3961914,-0.9364872 -0.3961914,-1.9935128 0,-2.93 0,0 0.91,-0.28 3.11,1.1 1.8,-0.49 3.7,-0.49 5.5,0 2.1,-1.38 3.02,-1.1 3.02,-1.1 0.396191,0.9364872 0.396191,1.9935128 0,2.93 0.83,0.74 1.2,1.74 1.2,2.94 0,4.21 -2.57,5.13 -5.04,5.4 0.45,0.37 0.82,0.92 0.82,2.02 v 3.03 c 0,0.27 0.1,0.64 0.73,0.55 5.158346,-1.67832 8.323113,-6.866489 7.454806,-12.22105 C 22.066498,5.1543899 17.424376,1.2322027 12,1.27"
                id="stage-u4"
                style={{
                    fill: "currentcolor",
                    display: stage === "u4" ? undefined : "none",
                }}
            />
            <path
                d="M 12,1.27 C 6.5756237,1.2322027 1.9335015,5.1543899 1.0651944,10.50895 0.1968873,15.863511 3.3616543,21.05168 8.52,22.73 9.07,22.82 9.25,22.45 9.25,22.18 v -1.84 c -3.03,0.64 -4.010212,-1.097107 -4.010212,-1.097107 -0.55,-1.29 -1.28,-1.65 -1.28,-1.65 -0.92,-0.65 0.1,-0.65 0.1,-0.65 1.1,0 1.73,1.1 1.73,1.1 C 6.709788,19.692893 8.7,18.88 9.34,18.6 9.3390035,18.042191 9.571006,17.50931 9.98,17.13 7.51,16.86 4.94,15.94 4.94,11.63 c 0,-1.1 0.46,-2.1 1.2,-2.84 -0.3961914,-0.9364872 -0.3961914,-1.9935128 0,-2.93 0,0 0.91,-0.28 3.11,1.1 1.8,-0.49 3.7,-0.49 5.5,0 2.1,-1.38 3.02,-1.1 3.02,-1.1 0.396191,0.9364872 0.396191,1.9935128 0,2.93 0.83,0.74 1.2,1.74 1.2,2.94 0,4.21 -2.57,5.13 -5.04,5.4 0.45,0.37 0.82,0.92 0.82,2.02 v 3.03 c 0,0.27 0.1,0.64 0.73,0.55 5.158346,-1.67832 8.323113,-6.866489 7.454806,-12.22105 C 22.066498,5.1543899 17.424376,1.2322027 12,1.27"
                id="stage-d1"
                style={{
                    fill: "currentcolor",
                    display: stage === "d1" ? undefined : "none",
                }}
            />
            <path
                d="M 12,1.27 C 6.5756237,1.2322027 1.9335015,5.1543899 1.0651944,10.50895 0.1968873,15.863511 3.3616543,21.05168 8.52,22.73 9.07,22.82 9.25,22.45 9.25,22.18 V 20.34 C 6.22,20.98 5.4243152,20.977528 4.786172,19.673828 4.1696361,18.414271 3.7678838,18.319543 3.4834912,17.865063 2.7739025,16.731087 3.490034,16.956528 3.9917456,17.283105 4.7308963,17.764237 5.1294143,18.124777 5.336172,18.473828 6.2767143,20.061663 8.7,18.88 9.34,18.6 9.3390035,18.042191 9.571006,17.50931 9.98,17.13 7.51,16.86 4.94,15.94 4.94,11.63 c 0,-1.1 0.46,-2.1 1.2,-2.84 -0.3961914,-0.9364872 -0.3961914,-1.9935128 0,-2.93 0,0 0.91,-0.28 3.11,1.1 1.8,-0.49 3.7,-0.49 5.5,0 2.1,-1.38 3.02,-1.1 3.02,-1.1 0.396191,0.9364872 0.396191,1.9935128 0,2.93 0.83,0.74 1.2,1.74 1.2,2.94 0,4.21 -2.57,5.13 -5.04,5.4 0.45,0.37 0.82,0.92 0.82,2.02 v 3.03 c 0,0.27 0.1,0.64 0.73,0.55 5.158346,-1.67832 8.323113,-6.866489 7.454806,-12.22105 C 22.066498,5.1543899 17.424376,1.2322027 12,1.27"
                id="stage-d2"
                style={{
                    fill: "currentcolor",
                    display: stage === "d2" ? undefined : "none",
                }}
            />
        </Icon>
    )
}